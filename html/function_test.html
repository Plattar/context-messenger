<!DOCTYPE html>
<html>

<head>
    <title>Function Test</title>
    <script type='text/javascript' src='../build/es2019/plattar-context-messenger.js'></script>
</head>

<body>
    <p>This is the Main Frame</p>
    <iframe id="plattar_frame_1" src="./function_test_nested.html" title="nested iframe 1"></iframe>
    <iframe id="plattar_frame_2" src="./function_test_nested.html" title="nested iframe 2"></iframe>
    <iframe id="plattar_frame_3" src="./function_test_nested.html" title="nested iframe 1"></iframe>
    <iframe id="plattar_frame_4" src="./function_test_nested.html" title="nested iframe 1"></iframe>

    <script type='text/javascript'>
        Plattar.messenger.onload("plattar_frame_1", () => {
            console.log("loaded plattar_frame_1");
        });

        Plattar.messenger.onload("plattar_frame_2", () => {
            console.log("loaded plattar_frame_2");
        });

        Plattar.messenger.onload("plattar_frame_3", () => {
            console.log("loaded plattar_frame_3");
        });

        Plattar.messenger.onload("plattar_frame_4", () => {
            console.log("loaded plattar_frame_4");
        });

        // this is not needed and is optional, self is always defined
        Plattar.messenger.onload("self", () => {
            console.log("loaded self");
        });
    </script>
</body>

</html>